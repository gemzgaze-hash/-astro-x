local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AnimationGUI"
ScreenGui.Parent = playerGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Ø²Ø± ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±) - Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
local ToggleButton = Instance.new("TextButton")
ToggleButton.Name = "ToggleButton"
ToggleButton.Size = UDim2.new(0, 40, 0, 25)
ToggleButton.Position = UDim2.new(0, 10, 0, 10)
ToggleButton.Text = "â˜°"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
ToggleButton.BorderSizePixel = 0
ToggleButton.ZIndex = 2
ToggleButton.Parent = ScreenGui

-- Ø²ÙˆØ§ÙŠØ§ Ù…Ø³ØªØ¯ÙŠØ±Ø© Ù„Ø²Ø± Ø§Ù„Øªoggle
local ToggleCorner = Instance.new("UICorner")
ToggleCorner.CornerRadius = UDim.new(0, 6)
ToggleCorner.Parent = ToggleButton

-- Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø§Ù„Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 300, 0, 600)
MainFrame.Position = UDim2.new(0, 10, 0, 40) -- ØªØ­Ø±ÙŠÙƒÙ‡ Ù„Ø£Ø³ÙÙ„ Ø²Ø± Ø§Ù„Øªoggle
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

-- Ø²ÙˆØ§ÙŠØ§ Ù…Ø³ØªØ¯ÙŠØ±Ø©
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = MainFrame

-- Ø¸Ù„ Ø®ÙÙŠÙ
local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(80, 80, 90)
UIStroke.Thickness = 2
UIStroke.Parent = MainFrame

-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(0, 200, 0, 30)
Title.Position = UDim2.new(0.5, -100, 0, 15)
Title.Text = "ğŸ® ØªØ­ÙƒÙ… Ø§Ù„Ø­Ø±ÙƒØ§Øª"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.Parent = MainFrame

-- Ø®Ø· ÙØ§ØµÙ„
local Divider = Instance.new("Frame")
Divider.Name = "Divider"
Divider.Size = UDim2.new(0, 260, 0, 1)
Divider.Position = UDim2.new(0.5, -130, 0, 45)
Divider.BackgroundColor3 = Color3.fromRGB(80, 80, 90)
Divider.BorderSizePixel = 0
Divider.Parent = MainFrame

-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
local ContentFrame = Instance.new("ScrollingFrame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, 0, 1, -60)
ContentFrame.Position = UDim2.new(0, 0, 0, 50)
ContentFrame.BackgroundTransparency = 1
ContentFrame.ScrollingDirection = Enum.ScrollingDirection.Y
ContentFrame.ScrollBarThickness = 4
ContentFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y -- Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ù…Ù‡Ù…
ContentFrame.Parent = MainFrame

-- Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Animation ID
local AnimIdBox = Instance.new("TextBox")
AnimIdBox.Name = "AnimIdBox"
AnimIdBox.Size = UDim2.new(0, 260, 0, 35)
AnimIdBox.Position = UDim2.new(0, 20, 0, 15)
AnimIdBox.PlaceholderText = "ğŸ”¢ Ø£Ø¯Ø®Ù„ Animation ID Ù‡Ù†Ø§"
AnimIdBox.Text = ""
AnimIdBox.TextColor3 = Color3.fromRGB(255, 255, 255)
AnimIdBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
AnimIdBox.BorderSizePixel = 0
AnimIdBox.Font = Enum.Font.Gotham
AnimIdBox.Parent = ContentFrame

-- Ø²ÙˆØ§ÙŠØ§ Ù…Ø³ØªØ¯ÙŠØ±Ø© Ù„Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
local TextBoxCorner = Instance.new("UICorner")
TextBoxCorner.CornerRadius = UDim.new(0, 6)
TextBoxCorner.Parent = AnimIdBox

-- Ø²Ø± ØªØ´ØºÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø±ÙƒØ©
local PlayPauseButton = Instance.new("TextButton")
PlayPauseButton.Name = "PlayPauseButton"
PlayPauseButton.Size = UDim2.new(0, 260, 0, 35)
PlayPauseButton.Position = UDim2.new(0, 20, 0, 60)
PlayPauseButton.Text = "â–¶ï¸ ØªØ´ØºÙŠÙ„"
PlayPauseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
PlayPauseButton.BackgroundColor3 = Color3.fromRGB(60, 150, 80)
PlayPauseButton.BorderSizePixel = 0
PlayPauseButton.Font = Enum.Font.GothamBold
PlayPauseButton.Parent = ContentFrame

-- Ø²Ø± ØªØ¬Ù…ÙŠØ¯ Ø§Ù„Ø­Ø±ÙƒØ©
local PauseButton = Instance.new("TextButton")
PauseButton.Name = "PauseButton"
PauseButton.Size = UDim2.new(0, 125, 0, 30)
PauseButton.Position = UDim2.new(0, 20, 0, 105)
PauseButton.Text = "â¸ï¸ ØªØ¬Ù…ÙŠØ¯"
PauseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
PauseButton.BackgroundColor3 = Color3.fromRGB(200, 150, 60)
PauseButton.BorderSizePixel = 0
PauseButton.Font = Enum.Font.Gotham
PauseButton.Parent = ContentFrame

-- Ø²Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¬Ù…ÙŠØ¯
local ResumeButton = Instance.new("TextButton")
ResumeButton.Name = "ResumeButton"
ResumeButton.Size = UDim2.new(0, 125, 0, 30)
ResumeButton.Position = UDim2.new(0, 155, 0, 105)
ResumeButton.Text = "âµï¸ Ø¥Ù„ØºØ§Ø¡"
ResumeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ResumeButton.BackgroundColor3 = Color3.fromRGB(60, 120, 200)
ResumeButton.BorderSizePixel = 0
ResumeButton.Font = Enum.Font.Gotham
ResumeButton.Parent = ContentFrame

-- Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø±Ø¹Ø© Ø§Ù„Ø­Ø±ÙƒØ©
local SpeedBox = Instance.new("TextBox")
SpeedBox.Name = "SpeedBox"
SpeedBox.Size = UDim2.new(0, 125, 0, 30)
SpeedBox.Position = UDim2.new(0, 20, 0, 145)
SpeedBox.PlaceholderText = "âš¡ Ø§Ù„Ø³Ø±Ø¹Ø©"
SpeedBox.Text = "1"
SpeedBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
SpeedBox.BorderSizePixel = 0
SpeedBox.Font = Enum.Font.Gotham
SpeedBox.Parent = ContentFrame

-- Ø²Ø± ØªÙƒØ±Ø§Ø± Ø§Ù„Ø­Ø±ÙƒØ©
local LoopButton = Instance.new("TextButton")
LoopButton.Name = "LoopButton"
LoopButton.Size = UDim2.new(0, 125, 0, 30)
LoopButton.Position = UDim2.new(0, 155, 0, 145)
LoopButton.Text = "ğŸ” ØªÙƒØ±Ø§Ø±"
LoopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
LoopButton.BackgroundColor3 = Color3.fromRGB(150, 80, 180)
LoopButton.BorderSizePixel = 0
LoopButton.Font = Enum.Font.Gotham
LoopButton.Parent = ContentFrame

-- Ø®Ø· ÙØ§ØµÙ„ Ù„Ù„Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
local SpecialDivider = Instance.new("Frame")
SpecialDivider.Name = "SpecialDivider"
SpecialDivider.Size = UDim2.new(0, 260, 0, 1)
SpecialDivider.Position = UDim2.new(0.5, -130, 0, 185)
SpecialDivider.BackgroundColor3 = Color3.fromRGB(80, 80, 90)
SpecialDivider.BorderSizePixel = 0
SpecialDivider.Parent = ContentFrame

-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø®Ø§Øµ
local SpecialTitle = Instance.new("TextLabel")
SpecialTitle.Name = "SpecialTitle"
SpecialTitle.Size = UDim2.new(0, 260, 0, 25)
SpecialTitle.Position = UDim2.new(0, 20, 0, 190)
SpecialTitle.Text = "ğŸ¯ Ø­Ø±ÙƒØ§Øª Ø®Ø§ØµØ©"
SpecialTitle.TextColor3 = Color3.fromRGB(200, 200, 255)
SpecialTitle.BackgroundTransparency = 1
SpecialTitle.Font = Enum.Font.GothamBold
SpecialTitle.TextSize = 14
SpecialTitle.Parent = ContentFrame

-- Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¶Ø­ÙŠØ© (Ø£ÙˆÙ„ Ø­Ø±ÙÙŠÙ†)
local VictimBox = Instance.new("TextBox")
VictimBox.Name = "VictimBox"
VictimBox.Size = UDim2.new(0, 260, 0, 30)
VictimBox.Position = UDim2.new(0, 20, 0, 220)
VictimBox.PlaceholderText = "ğŸ‘¤ Ø£Ø¯Ø®Ù„ Ø£ÙˆÙ„ Ø­Ø±ÙÙŠÙ† Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ø¶Ø­ÙŠØ©"
VictimBox.Text = ""
VictimBox.TextColor3 = Color3.fromRGB(255, 255, 255)
VictimBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
VictimBox.BorderSizePixel = 0
VictimBox.Font = Enum.Font.Gotham
VictimBox.Parent = ContentFrame

-- Ø¹Ø±Ø¶ Ø§Ø³Ù… Ø§Ù„Ø¶Ø­ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠ
local VictimNameLabel = Instance.new("TextLabel")
VictimNameLabel.Name = "VictimNameLabel"
VictimNameLabel.Size = UDim2.new(0, 260, 0, 20)
VictimNameLabel.Position = UDim2.new(0, 20, 0, 255)
VictimNameLabel.Text = "Ø§Ù„Ø¶Ø­ÙŠØ©: Ù„Ø§ Ø£Ø­Ø¯"
VictimNameLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
VictimNameLabel.BackgroundTransparency = 1
VictimNameLabel.Font = Enum.Font.Gotham
VictimNameLabel.TextSize = 12
VictimNameLabel.Parent = ContentFrame

-- Ø®Ø· ÙØ§ØµÙ„ Ù„Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
local BangShotDivider = Instance.new("Frame")
BangShotDivider.Name = "BangShotDivider"
BangShotDivider.Size = UDim2.new(0, 260, 0, 1)
BangShotDivider.Position = UDim2.new(0.5, -130, 0, 280)
BangShotDivider.BackgroundColor3 = Color3.fromRGB(80, 80, 90)
BangShotDivider.BorderSizePixel = 0
BangShotDivider.Parent = ContentFrame

-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
local BangShotTitle = Instance.new("TextLabel")
BangShotTitle.Name = "BangShotTitle"
BangShotTitle.Size = UDim2.new(0, 260, 0, 25)
BangShotTitle.Position = UDim2.new(0, 20, 0, 285)
BangShotTitle.Text = "ğŸ’¥ Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª Ù…ØªÙ‚Ø¯Ù…"
BangShotTitle.TextColor3 = Color3.fromRGB(255, 100, 100)
BangShotTitle.BackgroundTransparency = 1
BangShotTitle.Font = Enum.Font.GothamBold
BangShotTitle.TextSize = 14
BangShotTitle.Parent = ContentFrame

-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
local DistanceBox = Instance.new("TextBox")
DistanceBox.Name = "DistanceBox"
DistanceBox.Size = UDim2.new(0, 125, 0, 30)
DistanceBox.Position = UDim2.new(0, 20, 0, 315)
DistanceBox.PlaceholderText = "ğŸ“ Ø§Ù„Ù…Ø³Ø§ÙØ© (5)"
DistanceBox.Text = "5"
DistanceBox.TextColor3 = Color3.fromRGB(255, 255, 255)
DistanceBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
DistanceBox.BorderSizePixel = 0
DistanceBox.Font = Enum.Font.Gotham
DistanceBox.Parent = ContentFrame

local PowerBox = Instance.new("TextBox")
PowerBox.Name = "PowerBox"
PowerBox.Size = UDim2.new(0, 125, 0, 30)
PowerBox.Position = UDim2.new(0, 155, 0, 315)
PowerBox.PlaceholderText = "ğŸ’ª Ø§Ù„Ù‚ÙˆØ© (50)"
PowerBox.Text = "50"
PowerBox.TextColor3 = Color3.fromRGB(255, 255, 255)
PowerBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
PowerBox.BorderSizePixel = 0
PowerBox.Font = Enum.Font.Gotham
PowerBox.Parent = ContentFrame

local SpeedShotBox = Instance.new("TextBox")
SpeedShotBox.Name = "SpeedShotBox"
SpeedShotBox.Size = UDim2.new(0, 125, 0, 30)
SpeedShotBox.Position = UDim2.new(0, 20, 0, 355)
SpeedShotBox.PlaceholderText = "ğŸš€ Ø§Ù„Ø³Ø±Ø¹Ø© (0.2)"
SpeedShotBox.Text = "0.2"
SpeedShotBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedShotBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
SpeedShotBox.BorderSizePixel = 0
SpeedShotBox.Font = Enum.Font.Gotham
SpeedShotBox.Parent = ContentFrame

local HeightBox = Instance.new("TextBox")
HeightBox.Name = "HeightBox"
HeightBox.Size = UDim2.new(0, 125, 0, 30)
HeightBox.Position = UDim2.new(0, 155, 0, 355)
HeightBox.PlaceholderText = "ğŸ“ˆ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ (2)"
HeightBox.Text = "2"
HeightBox.TextColor3 = Color3.fromRGB(255, 255, 255)
HeightBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
HeightBox.BorderSizePixel = 0
HeightBox.Font = Enum.Font.Gotham
HeightBox.Parent = ContentFrame

local BounceCountBox = Instance.new("TextBox")
BounceCountBox.Name = "BounceCountBox"
BounceCountBox.Size = UDim2.new(0, 125, 0, 30)
BounceCountBox.Position = UDim2.new(0, 20, 0, 395)
BounceCountBox.PlaceholderText = "ğŸ”„ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª (3)"
BounceCountBox.Text = "3"
BounceCountBox.TextColor3 = Color3.fromRGB(255, 255, 255)
BounceCountBox.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
BounceCountBox.BorderSizePixel = 0
BounceCountBox.Font = Enum.Font.Gotham
BounceCountBox.Parent = ContentFrame

-- Ø²Ø± Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
local BangShotButton = Instance.new("TextButton")
BangShotButton.Name = "BangShotButton"
BangShotButton.Size = UDim2.new(0, 125, 0, 30)
BangShotButton.Position = UDim2.new(0, 155, 0, 395)
BangShotButton.Text = "ğŸ’¥ Ø¨Ø§Ù†Ù‚ Ø´ÙˆØª"
BangShotButton.TextColor3 = Color3.fromRGB(255, 255, 255)
BangShotButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
BangShotButton.BorderSizePixel = 0
BangShotButton.Font = Enum.Font.GothamBold
BangShotButton.Parent = ContentFrame

-- Ø²Ø± Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
local StopBangShotButton = Instance.new("TextButton")
StopBangShotButton.Name = "StopBangShotButton"
StopBangShotButton.Size = UDim2.new(0, 260, 0, 30)
StopBangShotButton.Position = UDim2.new(0, 20, 0, 435)
StopBangShotButton.Text = "â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¨Ø§Ù†Ù‚"
StopBangShotButton.TextColor3 = Color3.fromRGB(255, 255, 255)
StopBangShotButton.BackgroundColor3 = Color3.fromRGB(80, 80, 100)
StopBangShotButton.BorderSizePixel = 0
StopBangShotButton.Font = Enum.Font.Gotham
StopBangShotButton.Parent = ContentFrame

-- ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ù…Ø³ØªØ¯ÙŠØ±Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±
local elementsToRound = {PlayPauseButton, PauseButton, ResumeButton, SpeedBox, LoopButton, 
                        VictimBox, DistanceBox, PowerBox, SpeedShotBox, HeightBox, 
                        BounceCountBox, BangShotButton, StopBangShotButton}

for _, element in pairs(elementsToRound) do
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = element
end

-- Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØªØ¨Ø¹
local isOpen = true
local currentVictim = nil
local isBangShotActive = false
local currentBangShotThread = nil

-- ==================== [ÙƒÙˆØ¯ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯] ====================
-- Ø¯Ø§Ù„Ø© Ù„Ø¬Ø¹Ù„ Ø£ÙŠ Ø¹Ù†ØµØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨
local function MakeDraggable(gui, handle)
    handle = handle or gui
    local dragging = false
    local dragInput, dragStart, startPos
    
    local function update(input)
        local delta = input.Position - dragStart
        gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
    
    handle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = gui.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    handle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end

-- Ø¬Ø¹Ù„ Ø²Ø± Ø§Ù„Øªoggle Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨
MakeDraggable(ToggleButton)

-- Ø¬Ø¹Ù„ Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø³Ø­Ø¨ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
MakeDraggable(MainFrame, Title)
-- ==================== [Ù†Ù‡Ø§ÙŠØ© ÙƒÙˆØ¯ Ø§Ù„Ø³Ø­Ø¨] ====================

-- ÙˆØ¸ÙŠÙØ© ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø¹ Ø¥Ø®ÙØ§Ø¡ ÙƒØ§Ù…Ù„
ToggleButton.MouseButton1Click:Connect(function()
    isOpen = not isOpen
    
    if isOpen then
        -- Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙƒØ§Ù…Ù„Ø©
        MainFrame.Visible = true
        local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(MainFrame, tweenInfo, {Size = UDim2.new(0, 300, 0, 600)})
        tween:Play()
        ToggleButton.Text = "âœ•"
    else
        -- Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙƒØ§Ù…Ù„Ø©
        local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
        local tween = TweenService:Create(MainFrame, tweenInfo, {Size = UDim2.new(0, 300, 0, 0)})
        tween:Play()
        tween.Completed:Connect(function()
            MainFrame.Visible = false
        end)
        ToggleButton.Text = "â˜°"
    end
end)

-- ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¶Ø­ÙŠØ© Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø­Ø±ÙÙŠÙ†
local function findVictimByInitials(initials)
    if not initials or string.len(initials) < 2 then
        return nil
    end
    
    local lowerInitials = string.lower(initials)
    
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= player then
            local playerName = string.lower(otherPlayer.Name)
            if string.sub(playerName, 1, 2) == lowerInitials then
                return otherPlayer
            end
        end
    end
    
    return nil
end

-- ØªØ­Ø¯ÙŠØ« Ø­Ù‚Ù„ Ø§Ø³Ù… Ø§Ù„Ø¶Ø­ÙŠØ©
VictimBox:GetPropertyChangedSignal("Text"):Connect(function()
    local initials = VictimBox.Text
    currentVictim = findVictimByInitials(initials)
    
    if currentVictim then
        VictimNameLabel.Text = "Ø§Ù„Ø¶Ø­ÙŠØ©: " .. currentVictim.Name
        VictimNameLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    else
        VictimNameLabel.Text = "Ø§Ù„Ø¶Ø­ÙŠØ©: Ù„Ø§ Ø£Ø­Ø¯"
        VictimNameLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    end
end)

-- ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø´Ø®ØµÙŠØ© (Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…ÙˆØª)
local function ensureCharacter()
    local character = player.Character
    if not character then
        -- Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ ØªØ¸Ù‡Ø± Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
        character = player.CharacterAdded:Wait()
    end
    
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    local rootPart = character:FindFirstChild("HumanoidRootPart")
    
    if not humanoid or humanoid.Health <= 0 then
        -- Ø¥Ø°Ø§ Ù…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ØŒ Ù†Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØ¹ÙˆØ¯
        repeat
            task.wait(0.5)
            character = player.Character
            if character then
                humanoid = character:FindFirstChildOfClass("Humanoid")
                rootPart = character:FindFirstChild("HumanoidRootPart")
            end
        until humanoid and humanoid.Health > 0 and rootPart
    end
    
    return character, humanoid, rootPart
end

-- ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
local function advancedBangShot()
    if not currentVictim then
        warn("Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¶Ø­ÙŠØ©!")
        return
    end
    
    local character, humanoid, rootPart = ensureCharacter()
    if not character or not rootPart then return end
    
    local targetCharacter = currentVictim.Character
    if not targetCharacter then return end
    
    local targetRoot = targetCharacter:FindFirstChild("HumanoidRootPart")
    if not targetRoot then return end
    
    isBangShotActive = true
    BangShotButton.BackgroundColor3 = Color3.fromRGB(60, 200, 60)
    BangShotButton.Text = "ğŸ’¥ Ù†Ø´Ø·"
    
    local distance = tonumber(DistanceBox.Text) or 5
    local power = tonumber(PowerBox.Text) or 50
    local speed = tonumber(SpeedShotBox.Text) or 0.2
    local height = tonumber(HeightBox.Text) or 2
    local bounceCount = tonumber(BounceCountBox.Text) or 3
    
    for bounce = 1, bounceCount do
        if not isBangShotActive then break end
        
        -- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙÙŠ ÙƒÙ„ ØªÙƒØ±Ø§Ø±
        character, humanoid, rootPart = ensureCharacter()
        if not character or not rootPart then break end
        
        targetCharacter = currentVictim.Character
        if not targetCharacter then break end
        
        targetRoot = targetCharacter:FindFirstChild("HumanoidRootPart")
        if not targetRoot then break end
        
        -- Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø¶Ø­ÙŠØ©
        local direction = (targetRoot.Position - rootPart.Position).Unit
        local targetPos = targetRoot.Position - (direction * distance) + Vector3.new(0, height, 0)
        
        -- Ø­Ø±ÙƒØ© Ø³Ù„Ø³Ø© Ù†Ø­Ùˆ Ø§Ù„Ø¶Ø­ÙŠØ©
        local startTime = tick()
        local startPos = rootPart.Position
        
        while tick() - startTime < speed and isBangShotActive do
            -- Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù…Ø³ØªÙ…Ø± Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø´Ø®ØµÙŠØ©
            if not player.Character or not currentVictim.Character then
                break
            end
            
            local alpha = (tick() - startTime) / speed
            rootPart.CFrame = CFrame.new(startPos:Lerp(targetPos, alpha))
            task.wait()
        end
        
        if not isBangShotActive then break end
        
        -- Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ Ù„Ù„Ø®Ù„Ù
        local bounceDirection = -direction
        local bouncePower = power * (1 - (bounce * 0.2))
        
        rootPart.Velocity = bounceDirection * bouncePower + Vector3.new(0, height * 10, 0)
        task.wait(0.3)
        
        if not isBangShotActive then break end
    end
    
    BangShotButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
    BangShotButton.Text = "ğŸ’¥ Ø¨Ø§Ù†Ù‚ Ø´ÙˆØª"
    isBangShotActive = false
end

-- ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
BangShotButton.MouseButton1Click:Connect(function()
    if isBangShotActive then
        isBangShotActive = false
        BangShotButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
        BangShotButton.Text = "ğŸ’¥ Ø¨Ø§Ù†Ù‚ Ø´ÙˆØª"
    else
        if currentBangShotThread then
            coroutine.close(currentBangShotThread)
        end
        currentBangShotThread = coroutine.create(advancedBangShot)
        coroutine.resume(currentBangShotThread)
    end
end)

-- Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¨Ø§Ù†Ù‚ Ø¨Ø§Ùƒ Ø´ÙˆØª
StopBangShotButton.MouseButton1Click:Connect(function()
    isBangShotActive = false
    if currentBangShotThread then
        coroutine.close(currentBangShotThread)
        currentBangShotThread = nil
    end
    BangShotButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
    BangShotButton.Text = "ğŸ’¥ Ø¨Ø§Ù†Ù‚ Ø´ÙˆØª"
end)

-- Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¹Ù†Ø¯ Ù…ÙˆØª Ø§Ù„Ù„Ø§Ø¹Ø¨
player.CharacterAdded:Connect(function()
    -- ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©
    if not isOpen then
        MainFrame.Visible = false
    else
        MainFrame.Visible = true
    end
end)

-- Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØª
player.CharacterRemoving:Connect(function()
    -- Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¡ØŒ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø³ØªØ³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„
end)
